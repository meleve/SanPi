<h1>Alumnos</h1>
<div class=" table-responsive">
<table class="table table-striped table-hover table-condensed" id="example">
  <thead>
    <tr>
      <td class=""></td>
      <th>Nombre</th>
      <th>Apellido</th>
      <th>C.I.Nº</th>


      <th>Fecha de Nac.</th>
      <th>Lugar de Nac.</th>
      <th>Domicilio</th>
      <th>Nombre Madre</th>
      <th>Profesion Madre</th>
      <th>Contacto</th>
      <th>Nombre Padre</th>
      <th>Porfesion Padre</th>
      <th>Contacto</th>
      <th ></th>
      <th ></th>
      <th ></th>
    </tr>
  </thead>

  <tbody>
    <% @alumnos.each do |alumno| %>
      <tr>
        <td class="details-control"></td>
        <td><%= alumno.nombre %></td>
        <td><%= alumno.apellido %></td>
        <td><%= alumno.ci %></td>


        <td><%= alumno.fechanac %></td>
        <td><%= alumno.lugarnac %></td>
        <td><%= alumno.domicilio %></td>
        <td><%= alumno.nombrema %></td>
        <td><%= alumno.profesionma %></td>
        <td><%= alumno.cel %></td>
        <td><%= alumno.nombrepa %></td>
        <td><%= alumno.porfesionpa %></td>
        <td><%= alumno.celpa %></td>
        <td><%= link_to 'Mostrar', alumno %></td>
        <td><%= link_to 'Editar', edit_alumno_path(alumno) %></td>
        <td><%= link_to 'Eliminar', alumno, method: :delete, data: { confirm: 'Está seguro?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>
</div>
<br>



  <script type="text/javascript" language="javascript" class="init">
  

/* Formatting function for row details - modify as you need */
function format ( d ) {
  // `d` is the original data object for the row
  return '<table cellpadding="5" cellspacing="0" border="0" style="padding-left:50px;">'+
    '<tr>'+
      '<td>Full name:</td>'+
      '<td>'+d.nombre+'</td>'+
    '</tr>'+
    '<tr>'+
      '<td>Extension number:</td>'+
      '<td>'+d.apellido+'</td>'+
    '</tr>'+
    '<tr>'+
      '<td>Extra info:</td>'+
      '<td>And any further details here (images etc)...</td>'+
    '</tr>'+
  '</table>';
}

$(document).ready(function() {
  var table = $('#example').DataTable( {
    "ajax": '<%= @alumnos.to_json %>',
    "columns": [
      {
        "className":      'details-control',
        "orderable":      false,
        "data":           null,
        "defaultContent": ''
      },
      { "data": "nombre" },
      { "data": "apellido" },
      { "data": "ci" },
      { "data": "fechanac" }
    ],
    "order": [[1, 'asc']]
  } );
  
  // Add event listener for opening and closing details
  $('#example tbody').on('click', 'td.details-control', function () {
    var tr = $(this).closest('tr');
    var row = table.row( tr );

    if ( row.child.isShown() ) {
      // This row is already open - close it
      row.child.hide();
      tr.removeClass('shown');
    }
    else {
      // Open this row
      row.child( format(row.data()) ).show();
      tr.addClass('shown');
    }
  } );
} );


  </script>